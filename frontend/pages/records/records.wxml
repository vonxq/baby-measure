<view class="container">
  <!-- Tab切换 -->
  <view class="tab-header">
    <view 
      class="tab-item {{currentTab === index ? 'active' : ''}}" 
      wx:for="{{tabs}}" 
      wx:key="index"
      bindtap="switchTab"
      data-index="{{index}}"
    >
      {{item}}
    </view>
  </view>

  <!-- 时间轴视图 -->
  <view class="timeline-view" wx:if="{{currentTab === 0}}">
    <view class="timeline-list" wx:if="{{records.length > 0}}">
      <view class="timeline-item" wx:for="{{records}}" wx:key="id">
        <view class="timeline-date">
          <view class="date-day">{{item.assessmentDate.split('-')[2]}}</view>
          <view class="date-month">{{item.assessmentDate.split('-')[1]}}月</view>
        </view>
        <view class="timeline-content">
          <view class="timeline-title">{{item.assessmentAge}}个月评估</view>
          <view class="timeline-age">{{item.assessmentAge}}个月</view>
          <view class="timeline-score" wx:if="{{item.score}}">得分：{{item.score}}分</view>
          <view class="timeline-rank" wx:if="{{item.rank}}">排名：第{{item.rank}}名</view>
        </view>
        <view class="timeline-icon">📊</view>
      </view>
    </view>
    
    <view class="empty-state" wx:else>
      <view class="empty-icon">📊</view>
      <view class="empty-text">暂无评估记录</view>
      <view class="empty-desc">开始第一次评估吧</view>
      <button class="empty-btn" bindtap="goToAssessment">开始评估</button>
    </view>
  </view>

  <!-- 趋势图视图 -->
  <view class="chart-view" wx:if="{{currentTab === 1}}">
    <view class="chart-container" wx:if="{{records.length > 0}}">
      <canvas canvas-id="growthChart" class="growth-chart"></canvas>
      <view class="chart-legend">
        <view class="legend-item">
          <view class="legend-color"></view>
          <text class="legend-text">发育评分趋势</text>
        </view>
      </view>
    </view>
    
    <view class="empty-state" wx:else>
      <view class="empty-icon">📈</view>
      <view class="empty-text">暂无趋势数据</view>
      <view class="empty-desc">完成评估后查看趋势图</view>
      <button class="empty-btn" bindtap="goToAssessment">开始评估</button>
    </view>
  </view>
</view> 