<view class="container">
  <!-- Tabåˆ‡æ¢ -->
  <view class="tab-header">
    <view 
      class="tab-item {{currentTab === index ? 'active' : ''}}" 
      wx:for="{{tabs}}" 
      wx:key="index"
      bindtap="switchTab"
      data-index="{{index}}"
    >
      {{item}}
    </view>
  </view>

  <!-- æ—¶é—´è½´è§†å›¾ -->
  <view class="timeline-view" wx:if="{{currentTab === 0}}">
    <view class="timeline-list" wx:if="{{records.length > 0}}">
      <view class="timeline-item" wx:for="{{records}}" wx:key="id">
        <view class="timeline-date">
          <view class="date-day">{{item.assessmentDate.split('-')[2]}}</view>
          <view class="date-month">{{item.assessmentDate.split('-')[1]}}æœˆ</view>
        </view>
        <view class="timeline-content">
          <view class="timeline-title">{{item.assessmentAge}}ä¸ªæœˆè¯„ä¼°</view>
          <view class="timeline-age">{{item.assessmentAge}}ä¸ªæœˆ</view>
          <view class="timeline-score" wx:if="{{item.score}}">å¾—åˆ†ï¼š{{item.score}}åˆ†</view>
          <view class="timeline-rank" wx:if="{{item.rank}}">æ’åï¼šç¬¬{{item.rank}}å</view>
        </view>
        <view class="timeline-icon">ğŸ“Š</view>
      </view>
    </view>
    
    <view class="empty-state" wx:else>
      <view class="empty-icon">ğŸ“Š</view>
      <view class="empty-text">æš‚æ— è¯„ä¼°è®°å½•</view>
      <view class="empty-desc">å¼€å§‹ç¬¬ä¸€æ¬¡è¯„ä¼°å§</view>
      <button class="empty-btn" bindtap="goToAssessment">å¼€å§‹è¯„ä¼°</button>
    </view>
  </view>

  <!-- è¶‹åŠ¿å›¾è§†å›¾ -->
  <view class="chart-view" wx:if="{{currentTab === 1}}">
    <view class="chart-container" wx:if="{{records.length > 0}}">
      <canvas canvas-id="growthChart" class="growth-chart"></canvas>
      <view class="chart-legend">
        <view class="legend-item">
          <view class="legend-color"></view>
          <text class="legend-text">å‘è‚²è¯„åˆ†è¶‹åŠ¿</text>
        </view>
      </view>
    </view>
    
    <view class="empty-state" wx:else>
      <view class="empty-icon">ğŸ“ˆ</view>
      <view class="empty-text">æš‚æ— è¶‹åŠ¿æ•°æ®</view>
      <view class="empty-desc">å®Œæˆè¯„ä¼°åæŸ¥çœ‹è¶‹åŠ¿å›¾</view>
      <button class="empty-btn" bindtap="goToAssessment">å¼€å§‹è¯„ä¼°</button>
    </view>
  </view>
</view> 