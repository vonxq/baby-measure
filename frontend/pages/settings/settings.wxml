<view class="container">
  <view class="header-card">
    <view class="header-title">è®¾ç½®</view>
    <view class="header-subtitle">ç®¡ç†å®å®ä¿¡æ¯å’Œè´¦æˆ·è®¾ç½®</view>
  </view>

  <!-- å½“å‰å®å®ä¿¡æ¯ -->
  <view class="current-baby-card">
    <view class="card-title">å½“å‰å®å®</view>
    <view class="baby-info" wx:if="{{currentBaby}}">
      <view class="baby-avatar">
        <text class="baby-avatar-text">ğŸ‘¶</text>
      </view>
      <view class="baby-details">
        <view class="baby-name">{{currentBaby.nickname}}</view>
        <view class="baby-age">{{currentBabyAge}}ä¸ªæœˆ</view>
        <view class="baby-birthday">{{currentBaby.birthday}}</view>
      </view>
      <view class="edit-btn" bindtap="editBaby">ç¼–è¾‘</view>
    </view>
    <view class="no-baby" wx:else>
      <text>æš‚æœªé€‰æ‹©å®å®</text>
    </view>
  </view>

  <!-- å®å®åˆ—è¡¨ -->
  <view class="babies-list-card">
    <view class="card-title">å®å®åˆ—è¡¨</view>
    <view class="baby-item" wx:for="{{babiesList}}" wx:key="id">
      <view class="baby-info">
        <view class="baby-avatar">
          <text class="baby-avatar-text">ğŸ‘¶</text>
        </view>
        <view class="baby-details">
          <view class="baby-name">{{item.nickname}}</view>
          <view class="baby-age">{{item.ageInMonths}}ä¸ªæœˆ</view>
        </view>
      </view>
      <view class="baby-actions">
        <view class="switch-btn {{currentBaby.id === item.id ? 'active' : ''}}" 
              bindtap="switchBaby" data-id="{{item.id}}">
          {{currentBaby.id === item.id ? 'å½“å‰' : 'åˆ‡æ¢'}}
        </view>
        <view class="delete-btn" bindtap="deleteBaby" data-id="{{item.id}}">åˆ é™¤</view>
      </view>
    </view>
    <button class="btn-primary" bindtap="addBaby">æ·»åŠ æ–°å®å®</button>
  </view>

  <!-- è´¦æˆ·è®¾ç½® -->
  <view class="account-card">
    <view class="card-title">è´¦æˆ·è®¾ç½®</view>
    <view class="setting-item" bindtap="showUserInfo">
      <view class="setting-label">å¾®ä¿¡ä¿¡æ¯</view>
      <view class="setting-value">{{userInfo.nickName || 'æœªæˆæƒ'}}</view>
      <view class="setting-arrow">></view>
    </view>
    <view class="setting-item" bindtap="clearCache">
      <view class="setting-label">æ¸…é™¤ç¼“å­˜</view>
      <view class="setting-arrow">></view>
    </view>
  </view>

  <!-- ä¸»é¢˜è®¾ç½® -->
  <view class="section">
    <view class="section-title">ä¸»é¢˜è®¾ç½®</view>
    <view class="theme-grid">
      <view 
        class="theme-item {{currentTheme === item.id ? 'active' : ''}}" 
        wx:for="{{themes}}" 
        wx:key="id"
        bindtap="switchTheme"
        data-theme="{{item.id}}"
      >
        <view class="theme-color" style="background: {{item.color}}"></view>
        <text class="theme-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- å…¶ä»–è®¾ç½® -->
  <view class="section">
    <view class="section-title">å…¶ä»–è®¾ç½®</view>
    <view class="menu-item" bindtap="goToTheme">
      <view class="menu-icon">ğŸ¨</view>
      <view class="menu-content">
        <text class="menu-title">ä¸»é¢˜è®¾ç½®</text>
        <text class="menu-desc">è‡ªå®šä¹‰åº”ç”¨ä¸»é¢˜é¢œè‰²</text>
      </view>
      <view class="menu-arrow">â†’</view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section">
    <button class="logout-btn" bindtap="logout">é€€å‡ºç™»å½•</button>
  </view>
</view> 