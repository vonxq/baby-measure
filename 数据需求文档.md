# 数据需求文档

## 1. 概述
本文档定义了儿童发育行为评估系统所需的数据结构和格式要求。

## 2. 核心数据模型

### 2.1 量表项目 (AssessmentItem)
```json
{
  "id": "string",
  "category": "string", // 发育领域：大运动、精细动作、适应能力、语言、社交行为
  "age_group": "string", // 年龄段：0-6岁，按月分组
  "item_name": "string", // 项目名称
  "description": "string", // 项目描述
  "pass_criteria": "string", // 通过标准
  "score": "number" // 分值
}
```

### 2.2 评估结果 (AssessmentResult)
```json
{
  "id": "string",
  "child_id": "string",
  "assessment_date": "date",
  "child_age_months": "number",
  "total_score": "number",
  "developmental_age": "number",
  "developmental_quotient": "number",
  "results": [
    {
      "item_id": "string",
      "passed": "boolean",
      "score": "number",
      "notes": "string"
    }
  ]
}
```

### 2.3 儿童信息 (ChildInfo)
```json
{
  "id": "string",
  "name": "string",
  "gender": "string", // 男/女
  "birth_date": "date",
  "parent_name": "string",
  "contact": "string",
  "created_at": "date"
}
```

### 2.4 发育领域分类 (DevelopmentalCategory)
```json
{
  "id": "string",
  "name": "string", // 大运动、精细动作、适应能力、语言、社交行为
  "description": "string",
  "color": "string" // 用于UI显示的颜色
}
```

## 3. 数据来源

### 3.1 开发阶段数据
- **Mock数据**: `mock/assessment_items.json` - 用于开发测试的简化数据
- **真实数据**: `data/assessment_items.json` - 从Excel文件提取的完整数据

### 3.2 Excel文件结构
- 文件：`0 岁～6 岁儿童发育行为评估量表（儿心量表- Ⅱ).xlsx`
- 工作表：包含不同年龄段的评估项目
- 数据格式：项目名称、通过标准、分值等

### 3.3 数据提取要求
- 按年龄段分组提取项目
- 建立项目与发育领域的映射关系
- 标准化项目描述和通过标准
- 验证数据完整性和一致性

### 3.4 数据替换策略
- 开发阶段使用mock数据
- 数据准备完成后，将真实数据放入data文件夹
- 修改代码中的数据加载路径即可完成替换

## 4. 数据验证规则

### 4.1 必填字段
- 项目ID、名称、分类、年龄段
- 儿童基本信息
- 评估日期和年龄

### 4.2 数据范围
- 年龄：0-72个月
- 分值：正整数
- 发育商数：0-200

### 4.3 业务规则
- 每个年龄段至少包含5个发育领域的项目
- 评估结果必须包含所有必测项目
- 发育商数计算基于实际年龄和发育年龄

## 5. 数据存储

### 5.1 本地存储
- SQLite数据库
- 支持离线使用
- 数据备份和恢复

### 5.2 数据同步
- 支持数据导出
- 支持数据导入
- 版本兼容性处理

## 6. 性能要求
- 数据加载时间 < 2秒
- 评估计算时间 < 1秒
- 支持1000+评估项目
- 支持100+儿童记录 