# 数据需求文档

## 1. 概述
本文档定义了儿童发育行为评估系统所需的数据结构和格式要求。

## 2. 核心数据模型

### 2.1 量表项目 (AssessmentItem)
```json
{
  "id": "string",
  "category": "string", // 发育领域：大运动、精细动作、适应能力、语言、社会行为
  "age_group": "string", // 年龄段：1个月、2个月、3个月等
  "item_name": "string", // 项目名称
  "description": "string", // 项目描述
  "pass_criteria": "string", // 通过标准
  "score": "number", // 分值
  "is_important": "boolean", // 是否重要项目（需要特别注意）
  "can_ask_parent": "boolean" // 是否可通过询问家长获得
}
```

### 2.2 操作方法 (AssessmentMethod)
```json
{
  "item_id": "string", // 对应量表项目的ID
  "operation_method": "string", // 详细的操作方法
  "pass_requirement": "string" // 通过要求
}
```

### 2.3 评估记录 (AssessmentRecord)
```json
{
  "id": "string",
  "child_name": "string",
  "gender": "string", // 男/女
  "ethnicity": "string", // 民族
  "test_date": "date", // 测验日期
  "birth_date": "date", // 出生日期
  "actual_age_months": "number", // 实足年龄（月）
  "results": {
    "motor": {
      "mental_age": "number", // 智龄（月）
      "developmental_quotient": "number" // 发育商
    },
    "fine_motor": {
      "mental_age": "number",
      "developmental_quotient": "number"
    },
    "adaptive": {
      "mental_age": "number",
      "developmental_quotient": "number"
    },
    "language": {
      "mental_age": "number",
      "developmental_quotient": "number"
    },
    "social": {
      "mental_age": "number",
      "developmental_quotient": "number"
    },
    "total": {
      "mental_age": "number",
      "developmental_quotient": "number"
    }
  },
  "examiner": "string", // 主试者
  "notes": "string" // 备注
}
```

## 3. 数据来源

### 3.1 开发阶段数据
- **Mock数据**: 
  - `mock/assessment_items.json` - 量表项目数据
  - `mock/assessment_methods.json` - 操作方法和测查通过要求
  - `mock/assessment_records.json` - 基本信息和结果记录
- **真实数据**: `data/`文件夹 - 从Excel文件提取的完整数据

### 3.2 Excel文件结构
- **表A.1**: 0岁～6岁儿童发育行为评估量表（儿心量表-Ⅱ）- 量表项目
- **表B.1**: 操作方法和测查通过要求 - 详细操作方法
- **表A.2**: 基本信息和结果记录 - 评估记录格式

### 3.3 数据提取要求
- 按年龄段分组提取项目（1-12月龄、15-36月龄、42-84月龄）
- 建立项目与发育领域的映射关系（大运动、精细动作、适应能力、语言、社会行为）
- 标准化项目描述和通过标准
- 验证数据完整性和一致性

### 3.4 数据替换策略
- 开发阶段使用mock数据
- 数据准备完成后，将真实数据放入data文件夹
- 修改代码中的数据加载路径即可完成替换

## 4. 数据验证规则

### 4.1 必填字段
- 项目ID、名称、分类、年龄段
- 操作方法、通过要求
- 儿童基本信息、测验日期、出生日期
- 各能区智龄和发育商

### 4.2 数据范围
- 年龄：1-84个月
- 分值：根据月龄组确定（1-12月龄1.0分，15-36月龄3.0分，42-84月龄6.0分）
- 发育商数：0-200

### 4.3 业务规则
- 每个年龄段包含5个发育领域的项目
- 重要项目（标注*）未通过需要引起注意
- 可通过询问家长获得的项目（标注R）
- 发育商计算：发育商 = 智龄/实际年龄 × 100

## 5. 数据存储

### 5.1 本地存储
- SQLite数据库
- 支持离线使用
- 数据备份和恢复

### 5.2 数据同步
- 支持数据导出
- 支持数据导入
- 版本兼容性处理

## 6. 性能要求
- 数据加载时间 < 2秒
- 评估计算时间 < 1秒
- 支持1000+评估项目
- 支持100+儿童记录 