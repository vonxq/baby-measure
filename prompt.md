# 儿童生长发育评估小程序开发Prompt

## 项目概述

开发一个专为0-6岁儿童设计的生长发育评估微信小程序，帮助家长科学地跟踪和评估宝宝的发育情况。该应用采用前后端分离架构，前端使用微信小程序，后端使用Node.js + Express + SQLite。

## 核心功能需求

### 1. 用户系统
- **微信登录**: 支持微信授权登录，获取用户基本信息
- **演示模式**: 提供演示登录选项，无需微信授权即可体验
- **用户管理**: 存储用户信息，包括微信昵称、头像等

### 2. 宝宝管理
- **多宝宝支持**: 用户可以添加和管理多个宝宝
- **宝宝信息**: 包括昵称、生日、性别、备注等基本信息
- **宝宝切换**: 支持在多个宝宝之间快速切换
- **宝宝编辑**: 支持添加、编辑、删除宝宝信息

### 3. 发育评估
- **评估量表**: 基于科学标准的0-6岁儿童发育评估量表
- **分月龄评估**: 针对1-6个月龄分别设计评估问题
- **多维度评估**: 包括运动能力、语言能力、认知能力等维度
- **评分机制**: 每个问题0-5分，总分25分，计算排名百分比
- **实时计算**: 评估过程中实时显示分数和排名

### 4. 数据统计
- **评估记录**: 详细记录每次评估的时间、分数、排名
- **成长趋势**: 可视化展示宝宝的发育趋势图表
- **统计数据**: 显示评估次数、平均分数等统计信息
- **历史记录**: 时间轴展示所有评估历史

### 5. 界面设计
- **可爱治愈风**: 采用粉色系配色，卡通风格设计
- **响应式布局**: 适配不同屏幕尺寸
- **用户友好**: 简洁直观的操作界面
- **进度提示**: 评估过程中显示进度条

## 技术架构

### 前端技术栈
- **框架**: 微信小程序原生开发
- **语言**: JavaScript + WXML + WXSS
- **图表**: Canvas绘制成长趋势图
- **存储**: 微信小程序本地存储

### 后端技术栈
- **运行环境**: Node.js >= 14.0.0
- **Web框架**: Express.js
- **数据库**: SQLite
- **中间件**: CORS、body-parser
- **工具库**: UUID生成唯一标识

## 数据库设计

### 用户表 (users)
```sql
CREATE TABLE users (
  id TEXT PRIMARY KEY,
  open_id TEXT UNIQUE,
  nick_name TEXT,
  avatar_url TEXT,
  login_time DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 宝宝表 (babies)
```sql
CREATE TABLE babies (
  id TEXT PRIMARY KEY,
  user_id TEXT,
  nickname TEXT NOT NULL,
  birthday DATE NOT NULL,
  gender TEXT CHECK(gender IN ('男', '女')),
  remark TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### 评估表 (assessments)
```sql
CREATE TABLE assessments (
  id TEXT PRIMARY KEY,
  baby_id TEXT,
  score INTEGER NOT NULL,
  rank REAL NOT NULL,
  answers TEXT NOT NULL,
  assessment_date DATE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (baby_id) REFERENCES babies(id)
);
```

## API接口设计

### 用户相关
- `POST /api/user/login` - 用户登录
- `GET /api/user/profile` - 获取用户信息

### 宝宝管理
- `POST /api/baby` - 创建宝宝信息
- `GET /api/baby/:id` - 获取宝宝信息
- `PUT /api/baby/:id` - 更新宝宝信息
- `DELETE /api/baby/:id` - 删除宝宝信息

### 评估相关
- `POST /api/assessment` - 提交评估结果
- `GET /api/assessment/:babyId` - 获取评估记录

### 统计相关
- `GET /api/stats/:babyId` - 获取统计数据
- `GET /api/records/:babyId` - 获取评估记录

## 页面结构

### 1. 登录页面 (login)
- 微信授权登录按钮
- 演示模式登录选项
- 登录状态检查

### 2. 欢迎页面 (welcome)
- 引导用户创建宝宝档案
- 输入宝宝基本信息表单
- 可爱治愈的界面设计

### 3. 主页 (home)
- 显示当前宝宝基本信息
- 开始评估按钮
- 成长统计数据展示
- 快速切换宝宝功能

### 4. 评估页面 (assessment)
- 多步骤评估流程
- 进度条显示
- 实时分数计算
- 排名和结果展示

### 5. 记录页面 (records)
- 时间轴展示评估历史
- 成长趋势图表
- 详细的评估记录

### 6. 设置页面 (settings)
- 当前宝宝信息展示
- 宝宝列表管理
- 添加、编辑、删除宝宝
- 切换当前宝宝
- 账户设置
- 退出登录

### 7. 宝宝编辑页面 (baby-edit)
- 新增宝宝信息
- 编辑现有宝宝信息
- 删除宝宝功能

## 评估量表设计

### 评估维度
1. **运动能力**: 坐、翻身、抓握、爬行等
2. **语言能力**: 发声、发音、理解指令等
3. **认知能力**: 注视、跟随、认识等
4. **社交能力**: 微笑、模仿、反应等

### 评分标准
- 每个问题3个选项：完全不能(0分)、偶尔/需要帮助(2分)、能完成(5分)
- 每个月龄5个问题，总分25分
- 根据分数计算排名百分比

### 月龄覆盖
- 1个月：注视人脸、发声、抬头、抓握、微笑
- 2个月：跟随移动、咯咯声、抬头45度、注视手、声音反应
- 3个月：翻身、咿咿呀呀、抬头90度、抓握玩具、认识熟人
- 4个月：独坐、妈妈声、伸手够物、注视镜子、名字反应
- 5个月：自如翻身、爸爸声、坐稳、传递物品、模仿动作
- 6个月：独坐、双音节、爬行、抓握小物品、理解指令

## 开发要求

### 代码规范
- 使用ES6+语法
- 遵循微信小程序开发规范
- 代码注释清晰
- 错误处理完善

### 性能要求
- 页面加载时间 < 3秒
- 数据库查询优化
- 图片资源压缩
- 内存使用优化

### 安全要求
- 数据验证和过滤
- SQL注入防护
- XSS攻击防护
- 敏感信息加密

### 兼容性要求
- 支持微信小程序基础库 >= 3.9.0
- 适配主流手机屏幕尺寸
- 支持iOS和Android系统

## 部署配置

### 开发环境
- 后端服务端口：3000
- 数据库：SQLite本地文件
- 前端：微信开发者工具

### 生产环境
- 后端：Node.js服务器
- 数据库：SQLite或MySQL
- 前端：微信小程序平台

## 文件结构

```
project/
├── backend/
│   ├── app.js              # 主服务器文件
│   ├── database.js         # 数据库配置
│   ├── package.json        # 依赖配置
│   ├── start.sh           # 启动脚本
│   └── routes/            # API路由
│       ├── user.js        # 用户相关
│       ├── baby.js        # 宝宝管理
│       ├── assessment.js  # 评估相关
│       ├── stats.js       # 统计相关
│       └── records.js     # 记录相关
├── frontend/
│   ├── app.js             # 小程序入口
│   ├── app.json           # 小程序配置
│   ├── app.wxss           # 全局样式
│   ├── pages/             # 页面文件
│   │   ├── login/         # 登录页面
│   │   ├── welcome/       # 欢迎页面
│   │   ├── home/          # 主页
│   │   ├── assessment/    # 评估页面
│   │   ├── records/       # 记录页面
│   │   ├── settings/      # 设置页面
│   │   └── baby-edit/     # 宝宝编辑页面
│   ├── utils/             # 工具函数
│   │   └── api.js         # API调用
│   └── data/              # 数据文件
│       └── assessments.json # 评估量表数据
├── README.md              # 项目文档
└── prompt.md              # 开发提示文件
```

## 开发步骤

1. **环境搭建**
   - 安装Node.js和npm
   - 安装微信开发者工具
   - 配置开发环境

2. **后端开发**
   - 创建Express服务器
   - 设计数据库结构
   - 实现API接口
   - 测试接口功能

3. **前端开发**
   - 创建小程序项目
   - 设计页面布局
   - 实现页面功能
   - 集成后端API

4. **测试调试**
   - 功能测试
   - 性能测试
   - 兼容性测试
   - 用户体验测试

5. **部署发布**
   - 后端服务部署
   - 小程序代码上传
   - 审核发布

## 注意事项

1. **数据安全**: 确保用户数据安全，遵守隐私保护法规
2. **用户体验**: 界面简洁易用，操作流程顺畅
3. **性能优化**: 减少加载时间，优化内存使用
4. **错误处理**: 完善的错误提示和异常处理
5. **代码质量**: 遵循编码规范，保持代码可维护性

## 扩展功能建议

1. **推送通知**: 定期提醒用户进行评估
2. **数据导出**: 支持评估数据导出功能
3. **专家咨询**: 集成专业医生在线咨询
4. **社区功能**: 家长交流分享平台
5. **个性化**: 根据宝宝特点提供个性化建议

---

这个prompt文件包含了完整的项目需求、技术架构、功能设计和开发指南，可以作为重新生成整个项目的完整参考文档。 